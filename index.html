
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Pro Blackjack Suite</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-900 text-white min-h-screen flex flex-col items-center px-4 py-6">
  <header class="text-center mb-6">
    <h1 class="text-4xl font-bold mb-1">‚ô†Ô∏è Pro Blackjack Suite</h1>
    <p class="text-gray-400 text-lg">Track. Train. Win. A full blackjack counting and strategy trainer.</p>
  </header>

  <main class="w-full max-w-5xl space-y-8">

    <!-- Bankroll Tracking -->
    <section class="bg-gray-800 p-4 rounded shadow">
      <h2 class="text-xl font-semibold mb-2">üí∞ Bankroll Manager</h2>
      <div class="flex items-center gap-4">
        <label>Initial Bankroll ($):</label>
        <input type="number" id="bankroll" value="1000" class="bg-gray-700 p-2 w-24 rounded" />
        <button onclick="resetBankroll()" class="bg-red-600 px-3 py-1 rounded hover:bg-red-700">Reset</button>
      </div>
      <p class="mt-2 text-lg">Recommended Bet: <span id="betSuggestion">$0</span></p>
    </section>

    <!-- Card Input and Count Tracking -->
    <section class="bg-gray-800 p-4 rounded shadow">
      <h2 class="text-xl font-semibold mb-2">üßÆ Card Tracker</h2>
      <div class="mb-2 flex flex-wrap gap-2">
        ${['2','3','4','5','6','7','8','9','10','J','Q','K','A'].map(c => `<button onclick="registerCard('${c}')" class="bg-blue-600 px-3 py-1 rounded">${c}</button>`).join('')}
      </div>
      <div class="flex items-center gap-4">
        <label>Decks in play:</label>
        <input type="number" id="deckCount" value="6" min="1" class="bg-gray-700 p-2 w-20 rounded" onchange="updateDisplay()" />
        <button onclick="resetAll()" class="bg-red-600 px-3 py-1 rounded hover:bg-red-700">Reset</button>
      </div>
      <div class="mt-2 space-y-1">
        <p id="cardsSeen">Cards Seen: 0</p>
        <p id="runningCount">Running Count: 0</p>
        <p id="trueCount">True Count: 0.00</p>
      </div>
    </section>

    <!-- Strategy Grid -->
    <section class="bg-gray-800 p-4 rounded shadow">
      <h2 class="text-xl font-semibold mb-2">üìä Strategy Grid (Basic)</h2>
      <p class="text-sm text-gray-300 mb-2">Note: This is a simplified representation.</p>
      <div class="overflow-auto">
        <table class="table-auto text-sm border border-gray-700 w-full">
          <thead><tr><th class="p-2 border">Your Total</th>${[2,3,4,5,6,7,8,9,10,'A'].map(n => `<th class="p-2 border">${n}</th>`).join('')}</tr></thead>
          <tbody>
            ${[12,13,14,15,16,17,18,19,20].map(row => `
              <tr>
                <td class="p-2 border font-bold">${row}</td>
                ${[2,3,4,5,6,7,8,9,10,11].map(dealer => {
                  let move = row >= 17 ? 'S' : (row <= 11 || dealer >= 7 ? 'H' : 'S');
                  return `<td class="p-2 border text-center ${move === 'H' ? 'text-yellow-300' : 'text-green-300'}">${move}</td>`;
                }).join('')}
              </tr>
            `).join('')}
          </tbody>
        </table>
      </div>
    </section>

    <!-- Player Decision Advisor -->
    <section class="bg-gray-800 p-4 rounded shadow">
      <h2 class="text-xl font-semibold mb-2">üéØ Play Decision Advisor</h2>
      <div class="flex flex-wrap gap-2 mb-2">
        ${['2','3','4','5','6','7','8','9','10','J','Q','K','A'].map(c => `<button onclick="addPlayerCard('${c}')" class="bg-indigo-600 px-3 py-1 rounded">${c}</button>`).join('')}
      </div>
      <p>Player Hand: <span id="playerHand" class="font-mono">[]</span></p>
      <div class="flex flex-wrap gap-2 mt-2">
        ${['2','3','4','5','6','7','8','9','10','J','Q','K','A'].map(c => `<button onclick="setDealerCard('${c}')" class="bg-purple-600 px-3 py-1 rounded">${c}</button>`).join('')}
      </div>
      <p>Dealer Card: <span id="dealerCard" class="font-mono">-</span></p>
      <button onclick="getAdvice()" class="mt-2 bg-green-600 px-4 py-2 rounded hover:bg-green-700 font-bold text-lg">Get Advice</button>
      <p class="mt-2 text-lg">Advice: <span id="adviceText" class="transition-transform duration-300 ease-in-out transform scale-110 text-green-400">-</span></p>
    </section>

  </main>

  <script>
    let runningCount = 0;
    let cardsSeen = 0;
    let playerHand = [];
    let dealerCard = '';
    function registerCard(card) {
      const values = { '2':1,'3':1,'4':1,'5':1,'6':1,'7':0,'8':0,'9':0,'10':-1,'J':-1,'Q':-1,'K':-1,'A':-1 };
      if (card in values) {
        runningCount += values[card];
        cardsSeen++;
        updateDisplay();
      }
    }

    function resetAll() {
      runningCount = 0;
      cardsSeen = 0;
      playerHand = [];
      dealerCard = '';
      document.getElementById('playerHand').textContent = '[]';
      document.getElementById('dealerCard').textContent = '-';
      updateDisplay();
    }

    function updateDisplay() {
      const decks = parseInt(document.getElementById('deckCount').value);
      const totalCards = decks * 52;
      const remainingDecks = Math.max((totalCards - cardsSeen) / 52, 1);
      const trueCount = runningCount / remainingDecks;
      const bankroll = parseFloat(document.getElementById('bankroll').value);
      const recommendedBet = trueCount < 1 ? 0 : Math.round((trueCount - 1) * 0.5 * bankroll / 10);

      document.getElementById('cardsSeen').textContent = `Cards Seen: ${cardsSeen}`;
      document.getElementById('runningCount').textContent = `Running Count: ${runningCount}`;
      document.getElementById('trueCount').textContent = `True Count: ${trueCount.toFixed(2)}`;
      document.getElementById('betSuggestion').textContent = `$${recommendedBet}`;
    }

    function resetBankroll() {
      updateDisplay();
    }

    function addPlayerCard(card) {
      playerHand.push(card);
      document.getElementById('playerHand').textContent = JSON.stringify(playerHand);
    }

    function setDealerCard(card) {
      dealerCard = card;
      document.getElementById('dealerCard').textContent = card;
    }

    function getAdvice() {
      const getValue = card => ['J','Q','K','10'].includes(card) ? 10 : card === 'A' ? 11 : parseInt(card);
      let total = 0, aces = 0;
      playerHand.forEach(card => {
        total += getValue(card);
        if (card === 'A') aces++;
      });
      while (total > 21 && aces--) total -= 10;

      let advice = "Stand";
      if (total <= 11) advice = "Hit";
      else if (total === 12 && ['4','5','6'].includes(dealerCard)) advice = "Stand";
      else if (total === 12) advice = "Hit";
      else if (total >= 13 && total <= 16 && ['2','3','4','5','6'].includes(dealerCard)) advice = "Stand";
      else if (total >= 13 && total <= 16) advice = "Hit";
      else if (total >= 17) advice = "Stand";

      document.getElementById('adviceText').textContent = advice;
      // Reset hand after advice
      playerHand = [];
      dealerCard = '';
      document.getElementById('playerHand').textContent = '[]';
      document.getElementById('dealerCard').textContent = '-';
    }
  </script>
</body>
</html>
